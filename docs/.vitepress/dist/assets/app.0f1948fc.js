import{d as L,h as l,_ as b,o as i,c as u,a as ae,t as h,r as y,H as ce,F as j,L as G,n as f,C as B,z as r,A as le,B as x,a2 as re,a3 as ie,a4 as q,u as K,x as ue,l as v,w as V,p as W,X as de,a5 as pe,E as T,T as A,a6 as z,a7 as F,a0 as me,K as D,a8 as ve,k as fe,a9 as _e,aa as he,ab as ge,ac as ye,ad as be,ae as we,af as ke,ag as Ce,ah as xe,ai as $e,aj as Te,ak as Ae,al as Ee}from"./chunks/framework.c768bb69.js";import{t as Be}from"./chunks/theme.3bcfc97b.js";const De=L({name:"LButton",props:{color:{default:"white",type:String}},emits:["clickBtn"],setup(e,t){let o=l(0);return{count:o,clickBtn:()=>o.value++}}});function Se(e,t,o,n,a,c){return i(),u("button",{style:ce({color:e.color}),onClick:t[0]||(t[0]=(...s)=>e.clickBtn&&e.clickBtn(...s))},[ae(h(e.count)+" ",1),y(e.$slots,"default",{},void 0,!0)],4)}const Le=b(De,[["render",Se],["__scopeId","data-v-63cbca40"]]),Re=L({name:"LTabs",props:{tabs:{default:[{label:"标签1",val:1,img:"",subTit:""},{label:"标签2",val:2,img:"",subTit:""}],type:Array},activeName:{default:"",type:String}},setup(e,t){let o=e.activeName?l(e.activeName):l(e.tabs[0].label);return{activeNameNew:o,clickTab:a=>{o.value=a.label,t.emit("tab-click",a)}}}});const Ne={class:"l-tabs-box"},Ie=["onClick"],He=["src"],Pe={class:""},Me={key:0};function Ve(e,t,o,n,a,c){return i(),u("div",Ne,[(i(!0),u(j,null,G(e.tabs,(s,p)=>(i(),u("div",{key:p,class:f(["l-tabs-box-item",{act:e.activeNameNew==s.label}]),onClick:N=>e.clickTab(s)},[s.img?(i(),u("img",{key:0,class:"tabImg",src:s.img},null,8,He)):B("",!0),r("div",Pe,[r("p",null,h(s.label),1),s.subTit?(i(),u("p",Me,h(s.subTit),1)):B("",!0)])],10,Ie))),128))])}const ze=b(Re,[["render",Ve],["__scopeId","data-v-0342099c"]]),Fe={install(e,t){e.component("LButton",Le),e.component("LTabs",ze)}};const Oe={name:"DemoBlock",props:{customClass:String}},Ue={class:"source"};function je(e,t,o,n,a,c){return i(),u("div",{class:f(["demo-block",[o.customClass?o.customClass:""]])},[r("div",Ue,[y(e.$slots,"default",{},void 0,!0)])],2)}const Ge=b(Oe,[["render",je],["__scopeId","data-v-507c765c"]]);function qe(e,t){let o=null,n=new Date;return function(){const a=this,c=arguments,p=t-(new Date-n);clearTimeout(o),p<=0?(e.apply(a,c),n=new Date):o=setTimeout(function(){e.apply(a,c)},p)}}function R(){return new DOMException("The request is not allowed","NotAllowedError")}async function Ke(e){if(!navigator.clipboard)throw R();return navigator.clipboard.writeText(e)}async function We(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const o=window.getSelection(),n=window.document.createRange();o.removeAllRanges(),n.selectNode(t),o.addRange(n);let a=!1;try{a=window.document.execCommand("copy")}finally{o.removeAllRanges(),window.document.body.removeChild(t)}if(!a)throw R()}async function Xe(e){try{await Ke(e)}catch(t){try{await We(e)}catch(o){throw o||t||R()}}}let Je=0;function Qe(){return"message_"+Je++}const Ye={setup(){const e=l([]);function t(n){const a=Qe(),c={name:a,...n};e.value.push(c);const s=n.duration;setTimeout(()=>{o(a)},s*1e3)}function o(n){for(const[a,c]of e.value.entries())if(c.name===n){e.value.splice(a,1);break}}return{messages:e,add:t,remove:o}}},Ze={class:"demoblock-message-content"};function et(e,t,o,n,a,c){return i(),le(re,{name:"demoblock-fade",tag:"div",class:"demoblock-message-wrap"},{default:x(()=>[(i(!0),u(j,null,G(n.messages,s=>(i(),u("div",{key:s.name,class:f(["demoblock-message",s.type?`demoblock-message-${s.type}`:""])},[r("div",Ze,h(s.content),1)],2))),128))]),_:1})}const S=b(Ye,[["render",et],["__scopeId","data-v-82f498e4"]]);S.newInstance=(e={})=>{const t=document.createElement("div"),a=ie({render(){return q(S,{...e,ref:"messageRef"})}}).mount(t).$refs.messageRef;return document.body.appendChild(t.firstElementChild),{add(c){a.add(c)},remove(c){a.remove(c)}}};let E;function tt(){return E=E||S.newInstance(),E}function O(e,{duration:t=3,type:o=""}){tt().add({content:e,duration:t,type:o})}const U={info(e,t){return O(e,{...t})},error(e,t){return O(e,{...t,type:"error"})}};const nt={name:"Demo",props:{customClass:String,sourceCode:String},setup(e){const t=l(!1),o=l(!1),n=l(!1),a=l(!1),c=K(),s=ue(),p=l(s.path.split("/")),N=v(()=>p.value[p.value.length-1].split(".")[0]);V(()=>s.path,d=>{p.value=d.split("/")});const J=()=>{n.value=!n.value,t.value=n.value},Q=v(()=>`demo-${N.value}`),m=v(()=>{var d;return((d=c.theme.value.demoblock)==null?void 0:d[c.localePath.value])??{"hide-text":"隐藏代码","show-text":"显示代码","copy-button-text":"复制代码片段","copy-success-text":"复制成功"}}),Y=v(()=>a.value?m.value["copy-success-text"]:m.value["copy-button-text"]),Z=v(()=>n.value?m.value["hide-text"]:m.value["show-text"]),w=l(null),k=l(null),$=l(null),g=l(null),I=l(null),ee=v(()=>k.value?k.value.clientHeight+w.value.clientHeight+20:w.value.clientHeight),H=()=>{const{top:d,bottom:ne,left:oe}=$.value.getBoundingClientRect(),M=window.innerHeight||document.body.clientHeight;o.value=ne>M&&d+44<=M,g.value.style.left=o.value?`${oe}px`:"0";const se=o.value?1:2;g.value.style.width=`${I.value.offsetWidth-se}px`},C=qe(H,200),P=()=>{window.removeEventListener("scroll",C),window.removeEventListener("resize",C)},te=async()=>{try{await Xe(e.sourceCode),U.info(m.value["copy-success-text"])}catch{U.error(m.value["copy-success-text"])}};return V(n,d=>{if($.value.style.height=d?`${ee.value+1}px`:"0",!d){o.value=!1,g.value.style.left="0",g.value.style.width="auto",P();return}setTimeout(()=>{window.addEventListener("scroll",C),window.addEventListener("resize",C),H()},300)}),W(()=>{de(()=>{k.value||(w.value.style.width="100%")})}),pe(()=>{P()}),{blockClass:Q,hover:t,fixedControl:o,isExpanded:n,locale:m,controlText:Z,onClickControl:J,copyText:Y,highlight:w,description:k,meta:$,control:g,onCopy:te,demoBlock:I}}},ot={class:"source"},st={ref:"meta",class:"meta"},at={key:0,ref:"description",class:"description"},ct={ref:"highlight",class:"highlight"},lt={class:"control-button-wrap"};function rt(e,t,o,n,a,c){return i(),u("div",{ref:"demoBlock",class:f(["demo-block",n.blockClass,o.customClass?o.customClass:"",{hover:n.hover}]),onMouseenter:t[2]||(t[2]=s=>n.hover=!0),onMouseleave:t[3]||(t[3]=s=>n.hover=!1)},[r("div",ot,[y(e.$slots,"default",{},void 0,!0)]),r("div",st,[e.$slots.description?(i(),u("div",at,[y(e.$slots,"description",{},void 0,!0)],512)):B("",!0),r("div",ct,[y(e.$slots,"highlight",{},void 0,!0)],512)],512),r("div",{ref:"control",class:f(["demo-block-control",{"is-fixed":n.fixedControl}]),onClick:t[1]||(t[1]=(...s)=>n.onClickControl&&n.onClickControl(...s))},[T(A,{name:"arrow-slide"},{default:x(()=>[r("i",{class:f(["control-icon",{"icon-caret-down":!n.isExpanded,"icon-caret-up":n.isExpanded,hovering:n.hover}])},null,2)]),_:1}),T(A,{name:"text-slide"},{default:x(()=>[z(r("span",{class:"control-text"},h(n.controlText),513),[[F,n.hover]])]),_:1}),r("div",lt,[T(A,{name:"text-slide"},{default:x(()=>[z(r("span",{class:"control-button copy-button",onClick:t[0]||(t[0]=me((...s)=>n.onCopy&&n.onCopy(...s),["stop"]))},h(n.copyText),513),[[F,n.isExpanded]])]),_:1})])],2)],34)}const it=b(nt,[["render",rt],["__scopeId","data-v-84881e6a"]]),ut={...Be,enhanceApp({app:e,ctx:t}){e.use(Fe),e.component("Demo",it),e.component("DemoBlock",Ge)}};function X(e){if(e.extends){const t=X(e.extends);return{...t,...e,async enhanceApp(o){t.enhanceApp&&await t.enhanceApp(o),e.enhanceApp&&await e.enhanceApp(o)}}}return e}const _=X(ut),dt=L({name:"VitePressApp",setup(){const{site:e}=K();return W(()=>{fe(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),_e(),he(),ge(),_.setup&&_.setup(),()=>q(_.Layout)}});async function pt(){const e=vt(),t=mt();t.provide(ye,e);const o=be(e.route);return t.provide(we,o),t.component("Content",ke),t.component("ClientOnly",Ce),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),_.enhanceApp&&await _.enhanceApp({app:t,router:e,siteData:xe}),{app:t,router:e,data:o}}function mt(){return $e(dt)}function vt(){let e=D,t;return Te(o=>{let n=Ae(o);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),D&&(e=!1),Ee(()=>import(n),[])},_.NotFound)}D&&pt().then(({app:e,router:t,data:o})=>{t.go().then(()=>{ve(t.route,o.site),e.mount("#app")})});export{pt as createApp};
